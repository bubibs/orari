/* VARIABILI PRINCIPALI */
:root { 
    --primary: #007AFF; 
    --bg: #F2F2F7; 
    --card: #FFFFFF; 
    --text: #1C1C1E; 
    --success: #34C759; 
    --danger: #FF3B30; 
    --warning: #FF9500; 
    --radius: 14px; 
    --accent: linear-gradient(135deg, #007AFF 0%, #0051a8 100%);
    --subtext: #8E8E93; 
    --border: #D1D1D6; 
    --input-bg: #FFFFFF;
}

/* MODALITÃ€ SCURA AUTOMATICA */
@media (prefers-color-scheme: dark) {
    :root {
        --bg: #000000; 
        --card: #1C1C1E; 
        --text: #FFFFFF;
        --subtext: #AEAEB2; 
        --border: #38383A; 
        --input-bg: #2C2C2E;
    }
}

/* RESET E BASE */
* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
body { 
    background-color: var(--bg); 
    color: var(--text); 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
    padding: 15px; 
    line-height: 1.4;
}
.container { max-width: 500px; margin: 0 auto; }

/* HEADER E LOGO */
header { text-align: center; margin-bottom: 20px; }
.logo { 
    font-size: 28px; 
    font-weight: 900; 
    background: var(--accent); 
    -webkit-background-clip: text; 
    -webkit-text-fill-color: transparent; 
    text-transform: uppercase; 
    letter-spacing: -1px;
}

/* INDICATORE CLOUD DINAMICO */
#sync-indicator { 
    font-size: 11px; 
    font-weight: 800; 
    margin-top: 8px; 
    text-align: center; 
    transition: 0.3s;
}
.sync-working { color: var(--primary); } 
.sync-success { color: var(--success); } 
.sync-error { color: var(--danger); }

/* NAVBAR (MENU) */
.nav-bar { 
    display: flex; 
    gap: 8px; 
    margin: 15px 0; 
    justify-content: center; 
}
.nav-btn { 
    text-decoration: none; 
    color: var(--subtext); 
    font-size: 13px; 
    font-weight: 700;
    padding: 10px 18px; 
    border-radius: 20px; 
    background: var(--input-bg); 
    border: 1px solid var(--border);
    transition: 0.3s;
    display: flex;
    align-items: center;
    gap: 6px;
}
.nav-btn.active { 
    background: var(--primary); 
    color: white; 
    border-color: var(--primary);
    box-shadow: 0 4px 10px rgba(0, 122, 255, 0.3);
}

/* CARDS */
.card { 
    background: var(--card); 
    border-radius: var(--radius); 
    padding: 18px; 
    margin-bottom: 15px; 
    box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
}
.card-accent { border: 2px solid var(--primary); }

h2 { 
    font-size: 16px; 
    margin-bottom: 18px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}

/* FORM */
.form-group { margin-bottom: 15px; }
label { 
    display: block; 
    font-size: 10px; 
    font-weight: 800; 
    color: var(--subtext); 
    margin-bottom: 6px; 
    text-transform: uppercase; 
    letter-spacing: 0.5px;
}
input, select, textarea { 
    width: 100%; 
    padding: 12px; 
    border: 1px solid var(--border); 
    border-radius: 12px; 
    font-size: 16px; 
    color: var(--text); 
    background: var(--input-bg);
    outline: none;
    transition: border-color 0.2s;
}
input:focus { border-color: var(--primary); }

.row-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

/* BOX PREVIEW (ORE) */
.box-preview { 
    background: var(--bg); 
    padding: 12px; 
    border-radius: 12px; 
    text-align: center; 
    border: 1px solid var(--border); 
}
.box-preview .val { font-size: 20px; font-weight: 800; color: var(--primary); }
.box-preview .val.warning { color: var(--warning); }

/* BOTTONE PRINCIPALE CON ANIMAZIONE */
.btn-main { 
    background: var(--accent); 
    color: white; 
    border: none; 
    border-radius: 14px; 
    padding: 16px; 
    font-size: 16px; 
    font-weight: 700; 
    width: 100%; 
    cursor: pointer; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    gap: 10px;
    margin-top: 10px;
    transition: transform 0.1s, opacity 0.2s;
}
.btn-main:active { transform: scale(0.98); }
.btn-main:disabled { opacity: 0.6; cursor: not-allowed; }

/* SWITCH PAUSA */
.pause-container { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    background: var(--bg); 
    padding: 12px; 
    border-radius: 12px; 
    margin-bottom: 15px; 
    font-weight: 700; 
    font-size: 14px; 
}
.switch { position: relative; width: 50px; height: 26px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { 
    position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; 
    background-color: #ccc; transition: .4s; border-radius: 34px; 
}
.slider:before { 
    position: absolute; content: ""; height: 18px; width: 18px; 
    left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; 
}
input:checked + .slider { background-color: var(--primary); }
input:checked + .slider:before { transform: translateX(24px); }

/* MONEY GRID (PAGINA CALCOLI) */
.money-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
.money-box { 
    padding: 18px 10px; 
    border-radius: 12px; 
    background: var(--bg); 
    text-align: center; 
    border: 1px solid var(--border); 
}
.money-box.highlight { 
    background: var(--accent); 
    color: white; 
    border: none; 
    box-shadow: 0 4px 15px rgba(0, 122, 255, 0.2);
}
.m-val { font-size: 22px; font-weight: 900; margin-top: 4px; }
.m-label { font-size: 10px; font-weight: 800; opacity: 0.7; text-transform: uppercase; }

/* TABELLA STORICO */
table { width: 100%; border-collapse: collapse; margin-top: 5px; }
td { 
    padding: 14px 5px; 
    border-bottom: 1px solid var(--border); 
    font-size: 14px; 
    vertical-align: middle;
}
tr:last-child td { border-bottom: none; }

/* BADGES */
.badge { 
    display: inline-block; 
    padding: 4px 8px; 
    border-radius: 6px; 
    font-size: 9px; 
    font-weight: 800; 
    color: white; 
    text-transform: uppercase; 
}
.bg-sede { background: var(--success); }
.bg-trasf { background: var(--warning); }
.bg-assenza { background: var(--danger); }
.bg-estero { background: #5856D6; }

/* ANIMAZIONE CHEVRON */
.chevron { transition: transform 0.3s; }
.open .chevron { transform: rotate(180deg); }
